<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Level Placement Test</title>
  <style>
    :root {
      --color-primary: #225577;
      --color-secondary: #336688;
      --color-bg: #f5f5f5;
      --color-surface: #fff;
      --color-text: #333;
      --color-success: #28a745;
      --color-warning: #ffc107;
      --color-danger: #dc3545;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: Arial, sans-serif;
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background-color: var(--color-surface);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: var(--color-primary);
      text-align: center;
      margin-bottom: 10px;
      font-size: 2em;
    }
    
    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-style: italic;
    }
    
    .intro {
      background-color: #e8f4f8;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 25px;
      border-left: 4px solid var(--color-primary);
    }
    
    .section {
      margin-bottom: 30px;
      padding: 20px;
      background-color: #f9f9f9;
      border-radius: 8px;
      border: 1px solid #ddd;
    }
    
    .section-title {
      color: var(--color-primary);
      margin-bottom: 15px;
      font-size: 1.3em;
      border-bottom: 2px solid var(--color-primary);
      padding-bottom: 8px;
    }
    
    .question {
      margin-bottom: 20px;
      padding: 15px;
      background-color: var(--color-surface);
      border-radius: 6px;
      border: 1px solid #e0e0e0;
    }
    
    .question-text {
      font-weight: 600;
      margin-bottom: 10px;
      color: #333;
    }
    
    .options label {
      display: block;
      padding: 8px 12px;
      margin: 5px 0;
      background-color: #f5f5f5;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    
    .options label:hover {
      background-color: #e0e0e0;
    }
    
    .options input[type="radio"] {
      margin-right: 10px;
      cursor: pointer;
    }
    
    input[type="text"], textarea {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-family: Arial, sans-serif;
      font-size: 14px;
    }
    
    textarea {
      min-height: 80px;
      resize: vertical;
    }
    
    button {
      background-color: var(--color-primary);
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background-color 0.3s;
      display: block;
      margin: 20px auto;
    }
    
    button:hover {
      background-color: var(--color-secondary);
    }
    
    .results {
      display: none;
      padding: 25px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 10px;
      margin-top: 25px;
      text-align: center;
    }
    
    .results.show {
      display: block;
    }
    
    .score-display {
      font-size: 3em;
      font-weight: bold;
      margin: 20px 0;
    }
    
    .level-badge {
      display: inline-block;
      padding: 10px 20px;
      background-color: rgba(255,255,255,0.2);
      border-radius: 20px;
      font-size: 1.2em;
      margin: 10px 0;
    }
    
    .level-description {
      margin-top: 20px;
      line-height: 1.8;
      background-color: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 8px;
    }
    
    .progress-bar {
      width: 100%;
      height: 6px;
      background-color: #e0e0e0;
      border-radius: 3px;
      margin: 20px 0;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: var(--color-primary);
      width: 0;
      transition: width 0.3s ease;
    }
    
    .hidden {
      display: none;
    }
    
    .note {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 12px;
      margin: 15px 0;
      border-radius: 4px;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>ðŸ“š English Level Placement Test</h1>
    <p class="subtitle">Diagnostic test: Grammar, Tenses & Expressions</p>
    
    <div class="intro">
      <p><strong>Instructions:</strong> This test evaluates your knowledge of English grammar, verb tenses (past, present, future), and common expressions. Complete all sections to discover your current level (A1-C1). Take your time and answer honestly!</p>
    </div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>

    <form id="testForm">
      
      <!-- SECTION 1: BASIC GRAMMAR (A1-A2) -->
      <div class="section">
        <h2 class="section-title">Section 1: Basic Grammar & Present Simple</h2>
        
        <div class="question">
          <p class="question-text">1. My name _____ Carlos and I _____ from Brazil.</p>
          <div class="options">
            <label><input type="radio" name="q1" value="a"> a) is / is</label>
            <label><input type="radio" name="q1" value="b"> b) am / is</label>
            <label><input type="radio" name="q1" value="c"> c) is / am</label>
            <label><input type="radio" name="q1" value="d"> d) are / am</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">2. She _____ English every day.</p>
          <div class="options">
            <label><input type="radio" name="q2" value="a"> a) study</label>
            <label><input type="radio" name="q2" value="b"> b) studies</label>
            <label><input type="radio" name="q2" value="c"> c) studying</label>
            <label><input type="radio" name="q2" value="d"> d) is study</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">3. There _____ a book on the table.</p>
          <div class="options">
            <label><input type="radio" name="q3" value="a"> a) am</label>
            <label><input type="radio" name="q3" value="b"> b) is</label>
            <label><input type="radio" name="q3" value="c"> c) are</label>
            <label><input type="radio" name="q3" value="d"> d) be</label>
          </div>
        </div>
      </div>

      <!-- SECTION 2: PAST SIMPLE (A2-B1) -->
      <div class="section">
        <h2 class="section-title">Section 2: Past Simple</h2>
        
        <div class="question">
          <p class="question-text">4. Last year I _____ to Italy on vacation.</p>
          <div class="options">
            <label><input type="radio" name="q4" value="a"> a) go</label>
            <label><input type="radio" name="q4" value="b"> b) went</label>
            <label><input type="radio" name="q4" value="c"> c) goed</label>
            <label><input type="radio" name="q4" value="d"> d) going</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">5. They _____ the homework yesterday.</p>
          <div class="options">
            <label><input type="radio" name="q5" value="a"> a) doesn't finish</label>
            <label><input type="radio" name="q5" value="b"> b) don't finish</label>
            <label><input type="radio" name="q5" value="c"> c) didn't finish</label>
            <label><input type="radio" name="q5" value="d"> d) didn't finished</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">6. _____ you see the new movie last weekend?</p>
          <div class="options">
            <label><input type="radio" name="q6" value="a"> a) Do</label>
            <label><input type="radio" name="q6" value="b"> b) Did</label>
            <label><input type="radio" name="q6" value="c"> c) Does</label>
            <label><input type="radio" name="q6" value="d"> d) Are</label>
          </div>
        </div>
      </div>

      <!-- SECTION 3: PRESENT CONTINUOUS (A2-B1) -->
      <div class="section">
        <h2 class="section-title">Section 3: Present Continuous & Present Perfect</h2>
        
        <div class="question">
          <p class="question-text">7. Right now, she _____ a book in her room.</p>
          <div class="options">
            <label><input type="radio" name="q7" value="a"> a) reads</label>
            <label><input type="radio" name="q7" value="b"> b) read</label>
            <label><input type="radio" name="q7" value="c"> c) is reading</label>
            <label><input type="radio" name="q7" value="d"> d) reading</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">8. I _____ to Paris three times.</p>
          <div class="options">
            <label><input type="radio" name="q8" value="a"> a) went</label>
            <label><input type="radio" name="q8" value="b"> b) go</label>
            <label><input type="radio" name="q8" value="c"> c) have been</label>
            <label><input type="radio" name="q8" value="d"> d) was</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">9. He _____ here since 2020.</p>
          <div class="options">
            <label><input type="radio" name="q9" value="a"> a) lives</label>
            <label><input type="radio" name="q9" value="b"> b) lived</label>
            <label><input type="radio" name="q9" value="c"> c) has lived</label>
            <label><input type="radio" name="q9" value="d"> d) is living</label>
          </div>
        </div>
      </div>

      <!-- SECTION 4: FUTURE FORMS (B1) -->
      <div class="section">
        <h2 class="section-title">Section 4: Future Forms</h2>
        
        <div class="question">
          <p class="question-text">10. Tomorrow I _____ to the gym at 7 a.m.</p>
          <div class="options">
            <label><input type="radio" name="q10" value="a"> a) go</label>
            <label><input type="radio" name="q10" value="b"> b) am going</label>
            <label><input type="radio" name="q10" value="c"> c) went</label>
            <label><input type="radio" name="q10" value="d"> d) going</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">11. I think it _____ rain tomorrow.</p>
          <div class="options">
            <label><input type="radio" name="q11" value="a"> a) is</label>
            <label><input type="radio" name="q11" value="b"> b) will</label>
            <label><input type="radio" name="q11" value="c"> c) going to</label>
            <label><input type="radio" name="q11" value="d"> d) is going</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">12. We _____ buy a new car next month. We already decided.</p>
          <div class="options">
            <label><input type="radio" name="q12" value="a"> a) will</label>
            <label><input type="radio" name="q12" value="b"> b) are going to</label>
            <label><input type="radio" name="q12" value="c"> c) might</label>
            <label><input type="radio" name="q12" value="d"> d) are</label>
          </div>
        </div>
      </div>

      <!-- SECTION 5: MODALS & CONDITIONALS (B1-B2) -->
      <div class="section">
        <h2 class="section-title">Section 5: Modals & Conditionals</h2>
        
        <div class="question">
          <p class="question-text">13. You _____ smoke in the hospital. It's forbidden.</p>
          <div class="options">
            <label><input type="radio" name="q13" value="a"> a) can</label>
            <label><input type="radio" name="q13" value="b"> b) must</label>
            <label><input type="radio" name="q13" value="c"> c) mustn't</label>
            <label><input type="radio" name="q13" value="d"> d) should</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">14. If I _____ enough money, I would travel around the world.</p>
          <div class="options">
            <label><input type="radio" name="q14" value="a"> a) have</label>
            <label><input type="radio" name="q14" value="b"> b) had</label>
            <label><input type="radio" name="q14" value="c"> c) will have</label>
            <label><input type="radio" name="q14" value="d"> d) would have</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">15. She _____ be at home. Her car is in the garage.</p>
          <div class="options">
            <label><input type="radio" name="q15" value="a"> a) can</label>
            <label><input type="radio" name="q15" value="b"> b) should</label>
            <label><input type="radio" name="q15" value="c"> c) must</label>
            <label><input type="radio" name="q15" value="d"> d) would</label>
          </div>
        </div>
      </div>

      <!-- SECTION 6: PASSIVE & REPORTED SPEECH (B2) -->
      <div class="section">
        <h2 class="section-title">Section 6: Passive Voice & Reported Speech</h2>
        
        <div class="question">
          <p class="question-text">16. The book _____ by millions of people every year.</p>
          <div class="options">
            <label><input type="radio" name="q16" value="a"> a) reads</label>
            <label><input type="radio" name="q16" value="b"> b) is read</label>
            <label><input type="radio" name="q16" value="c"> c) was read</label>
            <label><input type="radio" name="q16" value="d"> d) has read</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">17. She said that she _____ tired.</p>
          <div class="options">
            <label><input type="radio" name="q17" value="a"> a) is</label>
            <label><input type="radio" name="q17" value="b"> b) was</label>
            <label><input type="radio" name="q17" value="c"> c) has been</label>
            <label><input type="radio" name="q17" value="d"> d) will be</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">18. The house _____ in 1920.</p>
          <div class="options">
            <label><input type="radio" name="q18" value="a"> a) built</label>
            <label><input type="radio" name="q18" value="b"> b) was built</label>
            <label><input type="radio" name="q18" value="c"> c) has built</label>
            <label><input type="radio" name="q18" value="d"> d) is built</label>
          </div>
        </div>
      </div>

      <!-- SECTION 7: EXPRESSIONS & PREPOSITIONS -->
      <div class="section">
        <h2 class="section-title">Section 7: Common Expressions & Prepositions</h2>
        
        <div class="question">
          <p class="question-text">19. I'm looking forward _____ you next week.</p>
          <div class="options">
            <label><input type="radio" name="q19" value="a"> a) to see</label>
            <label><input type="radio" name="q19" value="b"> b) to seeing</label>
            <label><input type="radio" name="q19" value="c"> c) see</label>
            <label><input type="radio" name="q19" value="d"> d) seeing</label>
          </div>
        </div>

        <div class="question">
          <p class="question-text">20. He's good _____ playing the piano.</p>
          <div class="options">
            <label><input type="radio" name="q20" value="a"> a) in</label>
            <label><input type="radio" name="q20" value="b"> b) at</label>
            <label><input type="radio" name="q20" value="c"> c) on</label>
            <label><input type="radio" name="q20" value="d"> d) for</label>
          </div>
        </div>
      </div>

      <!-- SECTION 8: OPEN WRITING (DIAGNOSTIC) -->
      <div class="section">
        <h2 class="section-title">Section 8: Writing Sample (Optional)</h2>
        <div class="note">
          <strong>Note:</strong> This section helps assess your writing ability. Write a few sentences (3-5) about one topic below.
        </div>
        
        <div class="question">
          <p class="question-text">Choose ONE topic and write 3-5 sentences:</p>
          <p style="margin: 10px 0; font-size: 0.9em;">
            â€¢ Describe your daily routine<br>
            â€¢ Talk about your last vacation<br>
            â€¢ Describe your future plans
          </p>
          <textarea id="writingSample" placeholder="Write your answer here..."></textarea>
        </div>
      </div>

      <button type="button" onclick="calculateResults()">Submit Test & See Results</button>
    </form>

    <!-- COPY ANSWERS SECTION -->
    <div class="section" id="copySection" style="display: none; background-color: #e8f4f8; border: 2px solid var(--color-primary);">
      <h2 class="section-title">ðŸ“‹ Copy Your Answers</h2>
      <p style="margin-bottom: 15px;">Click the button below to copy all your answers. You can paste and send them to your teacher.</p>
      <textarea id="answersText" readonly style="min-height: 150px; background-color: #fff; font-family: monospace; font-size: 13px;"></textarea>
      <button type="button" onclick="copyAnswers()" style="background-color: #28a745;">ðŸ“‹ Copy to Clipboard</button>
      <p id="copyConfirm" style="display: none; color: #28a745; font-weight: bold; margin-top: 10px; text-align: center;">âœ“ Copied! Now you can paste and send to your teacher.</p>
    </div>

    <!-- RESULTS SECTION -->
    <div class="results" id="resultsSection">
      <h2>ðŸŽ‰ Your English Level</h2>
      <div class="score-display" id="scoreDisplay"></div>
      <div class="level-badge" id="levelBadge"></div>
      <div class="level-description" id="levelDescription"></div>
      <button type="button" onclick="resetTest()" style="background-color: rgba(255,255,255,0.3); margin-top: 20px;">Take Test Again</button>
    </div>
  </div>

  <script>
    // Answer key
    const answers = {
      q1: 'c',  // is/am
      q2: 'b',  // studies
      q3: 'b',  // is
      q4: 'b',  // went
      q5: 'c',  // didn't finish
      q6: 'b',  // Did
      q7: 'c',  // is reading
      q8: 'c',  // have been
      q9: 'c',  // has lived
      q10: 'b', // am going
      q11: 'b', // will
      q12: 'b', // are going to
      q13: 'c', // mustn't
      q14: 'b', // had (2nd conditional)
      q15: 'c', // must (deduction)
      q16: 'b', // is read
      q17: 'b', // was (reported)
      q18: 'b', // was built
      q19: 'b', // to seeing
      q20: 'b'  // at
    };

    const levelDescriptions = {
      'A1': {
        name: 'Beginner (A1)',
        description: 'You can understand and use basic phrases and expressions. Focus on building vocabulary, present simple, basic questions, and common expressions.',
        color: '#dc3545'
      },
      'A2': {
        name: 'Elementary (A2)',
        description: 'You can communicate in simple situations and understand everyday expressions. Work on past simple, present continuous, and basic future forms.',
        color: '#fd7e14'
      },
      'B1': {
        name: 'Intermediate (B1)',
        description: 'You can handle most everyday situations and express opinions. Continue practicing all tenses, conditionals, modals, and complex sentence structures.',
        color: '#ffc107'
      },
      'B2': {
        name: 'Upper-Intermediate (B2)',
        description: 'You can interact fluently and understand complex texts. Focus on passive voice, reported speech, advanced grammar, and idiomatic expressions.',
        color: '#28a745'
      },
      'C1': {
        name: 'Advanced (C1)',
        description: 'You have strong command of English with occasional minor errors. Work on subtle nuances, advanced writing, and professional/academic contexts.',
        color: '#007bff'
      }
    };

    function calculateResults() {
      let score = 0;
      const totalQuestions = 20;
      let answersLog = "ENGLISH PLACEMENT TEST - ANSWERS\n";
      answersLog += "=" .repeat(50) + "\n\n";

      // Calculate score and log answers
      for (let i = 1; i <= totalQuestions; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        const answer = selected ? selected.value : 'NOT ANSWERED';
        answersLog += `Question ${i}: ${answer}\n`;
        
        if (selected && selected.value === answers[`q${i}`]) {
          score++;
        }
      }
      
      // Add writing sample
      const writingSample = document.getElementById('writingSample').value.trim();
      answersLog += "\n" + "=".repeat(50) + "\n";
      answersLog += "WRITING SAMPLE:\n";
      answersLog += writingSample || "(No writing sample provided)";
      answersLog += "\n\n" + "=".repeat(50) + "\n";
      answersLog += `SCORE: ${score} / ${totalQuestions}\n`;

      // Determine level based on score
      let level;
      if (score <= 6) level = 'A1';
      else if (score <= 10) level = 'A2';
      else if (score <= 14) level = 'B1';
      else if (score <= 17) level = 'B2';
      else level = 'C1';

      // Display results
      const levelInfo = levelDescriptions[level];
      document.getElementById('scoreDisplay').textContent = `${score} / ${totalQuestions}`;
      document.getElementById('levelBadge').textContent = levelInfo.name;
      document.getElementById('levelDescription').textContent = levelInfo.description;
      
      const resultsSection = document.getElementById('resultsSection');
      resultsSection.style.background = `linear-gradient(135deg, ${levelInfo.color} 0%, ${adjustColor(levelInfo.color, -30)} 100%)`;
      resultsSection.classList.add('show');

      // Show copy section with answers
      document.getElementById('answersText').value = answersLog;
      document.getElementById('copySection').style.display = 'block';
      
      // Scroll to results
      resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
      
      // Update progress bar
      document.getElementById('progress').style.width = '100%';
    }

    function copyAnswers() {
      const answersText = document.getElementById('answersText');
      answersText.select();
      answersText.setSelectionRange(0, 99999); // For mobile
      
      navigator.clipboard.writeText(answersText.value).then(function() {
        document.getElementById('copyConfirm').style.display = 'block';
        setTimeout(function() {
          document.getElementById('copyConfirm').style.display = 'none';
        }, 3000);
      }).catch(function() {
        // Fallback for older browsers
        document.execCommand('copy');
        document.getElementById('copyConfirm').style.display = 'block';
        setTimeout(function() {
          document.getElementById('copyConfirm').style.display = 'none';
        }, 3000);
      });
    }

    function adjustColor(color, amount) {
      return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
    }

    function resetTest() {
      document.getElementById('testForm').reset();
      document.getElementById('resultsSection').classList.remove('show');
      document.getElementById('copySection').style.display = 'none';
      document.getElementById('progress').style.width = '0%';
      document.getElementById('writingSample').value = '';
      document.getElementById('copyConfirm').style.display = 'none';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Progress bar update on scroll
    window.addEventListener('scroll', function() {
      const testForm = document.getElementById('testForm');
      if (!testForm) return;
      
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight - windowHeight;
      const scrolled = window.scrollY;
      const progress = (scrolled / documentHeight) * 100;
      
      document.getElementById('progress').style.width = Math.min(progress, 100) + '%';
    });
  </script>

</body>
</html>
